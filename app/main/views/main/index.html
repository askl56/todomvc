<:Title>
  Todos

<:Body>


	<section class="todoapp">
		<header class="header">
      <:volt:notices />
			<h1>todos</h1>
      <form e-submit="add_todo">
  			<input class="new-todo" placeholder="What needs to be done?" autofocus value="{{ page._new_todo._label }}">
      </form>
		</header>
		<!-- This section should be hidden by default and shown when there are todos -->
    {{ if _todos.size > 0 }}
  		<section class="main">

      	<input class="toggle-all" type="checkbox" checked="{{ all_complete }}">
      	<label for="toggle-all">Mark all as complete</label>
      	<ul class="todo-list">
      		<!-- These are here just to show the structure of the list items -->
      		<!-- List items should get the class `editing` when editing and `completed` when marked as completed -->
          {{ filtered_todos.each do |todo| }}
            <:todo model="{{ todo }}" parent="{{ self }}">
          {{ end }}
      	</ul>

        <!-- {{ filtered_todos.size }} -->

  		</section>
      <!-- This footer should hidden by default and shown when there are todos -->
  		<footer class="footer">
  			<!-- This should be `0 items left` by default -->
  			<span class="todo-count"><strong>{{ incomplete }}</strong> item left</span>
  			<!-- Remove this if you don't implement routing -->
  			<ul class="filters">
          <:nav href="/">All</:nav>
          <:nav href="/active">Active</:nav>
          <:nav href="/completed">Completed</:nav>
  			</ul>
  			<!-- Hidden if no completed items are left â†“ -->
        {{ if complete > 0 }}
    			<button class="clear-completed" e-click="clear_completed">Clear completed</button>
        {{ end }}
  		</footer>
    {{ end }}
	</section>


<:Todo>
	<li class="{{ if _completed }}completed{{ end }} {{ if editing }}editing{{ end }} todo-item">
		<div class="view">
			<input class="toggle" type="checkbox" checked="{{ _completed }}">
			<label e-dblclick="edit(event)">{{ _label }}</label>
			<button class="destroy" e-click="destroy"></button>
		</div>
    <form e-submit="stop_editing">
  		<input class="edit" value="{{ _label }}">
    </form>
	</li>

<:Nav>
  <li>
    <a class="{{ if active_tab? }}selected{{ end }}" href="{{ attrs.href }}">{{ yield }}</a>
  </li>

